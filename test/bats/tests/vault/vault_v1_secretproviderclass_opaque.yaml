apiVersion: secrets-store.csi.x-k8s.io/v1
kind: SecretProviderClass
metadata:
  name: vault-opaque
spec:
  provider: vault
  secretObjects:
    - secretName: opaquesecret
      type: Opaque
      data:
        - key: username
          objectName: db-opaque-username
        - key: password
          objectName: db-opaque-password
  parameters:
    vaultAddress: "http://vault.vault:8200"
    roleName: "csi"
    objects: |
      - objectName: db-opaque-username
        secretPath: secret/data/db-opaque
        secretKey: username
      - objectName: db-opaque-password
        secretPath: secret/data/db-opaque
        secretKey: password